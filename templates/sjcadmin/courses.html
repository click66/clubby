{% extends "sjcadmin/_base.html" %}

{% block assets %}
{% load static %}
<script type="text/javascript" src="{% static 'sjcadmin/courses.js' %}" defer></script>
{% endblock %}

{% block content %}

<div class="p-3 containerInner">

    <nav aria-label="breadcrumb" class="text-light">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Courses</li>
        </ol>
    </nav>

    <h1>Courses</h1>

    <div class="container-lg">

        {% for course in courses %}
        <div class="row mt-3">
            <div class="col-sm-12 col-md-12 col-lg-12">
                <div class="report-link-container">
                <a class="rounded-3 text-dark bg-white p-3 report-link" href="/attendance/{{ course.uuid }}">
                    <div>
                        <span class="ps-3 title">{{ course.label }}</span>
                        <span class="ps-3 description">Runs {{ course.days|join:', ' }}</span>
                        <span class="ps-3 description">(Next session {{ course.next_session_date|date:'M. d, Y'}})</span>
                    </div>
                </a>
                <a href="#" class="report-button btnCourseRemove" data-csrf-token="{{ csrf_token }}" data-uuid="{{ course.uuid }}"><i class="bi bi-x-circle-fill"></i></a>
                </div>
            </div>
        </div>
        {% endfor %}

        <div class="row mt-3">
            <div class="col-sm-12 col-md-12 col-lg-12">
                <a class="rounded-3 text-dark bg-white p-3 report-link" id="btnNewCourse">
                    <div class="text-center">+</div>
                </a>
            </div>
        </div>
    </div>
</div>

<!-- End body -->

<div class="modal fade report-modal" id="mdlCourse">
    <div class="modal-dialog text-dark">
        <div class="modal-content">
            <form method="POST" id="frmCourse">
                <div class="modal-header">
                    <h2 class="modal-title">Add New Course</h2>
                </div>
                <div class="modal-body">
                    {% csrf_token %}
                    <div class="mb-3 row">
                        <div class="col-sm-12">
                            <input placeholder="Course Name" type="text" class="form-control" name="courseName"
                                id="mdlCourse_courseName">
                        </div>
                    </div>
                    <label>Run on days:</label>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="courseDay" value="0">
                        <label class="form-check-label">Monday</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="courseDay" value="1">
                        <label class="form-check-label">Tuesday</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="courseDay" value="2">
                        <label class="form-check-label">Wednesday</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="courseDay" value="3">
                        <label class="form-check-label">Thursday</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="courseDay" value="4">
                        <label class="form-check-label">Friday</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="courseDay" value="5">
                        <label class="form-check-label">Saturday</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="courseDay" value="6">
                        <label class="form-check-label">Sunday</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" value="confirm" id="mdlCourse_submit">Confirm</button>
                    <button type="button" class="btn btn-secondary btn-cancel" id="mdlCourse_cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>
</div>

{% endblock %}